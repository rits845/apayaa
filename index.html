<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdWatch - Hasilkan Uang dengan Menonton Iklan</title>
    
    <!-- KODE API YANG ANDA MINTA -->
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <meta name="815c4b13e2b441dcfbe4e65e5e23e5d3a7553e32" content="815c4b13e2b441dcfbe4e65e5e23e5d3a7553e32" />
    <!-- END KODE API -->
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 480px;
            margin: 0 auto;
            background-color: white;
            min-height: 100vh;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            position: relative;
            padding-bottom: 70px;
        }
        
        header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 0 0 15px 15px;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .tagline {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .balance-card {
            background: white;
            margin: 20px;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .balance-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .balance-amount {
            font-size: 32px;
            font-weight: bold;
            color: #2575fc;
        }
        
        .ads-section {
            margin: 20px;
        }
        
        .section-title {
            font-size: 18px;
            margin-bottom: 15px;
            color: #333;
            font-weight: 600;
        }
        
        .ad-card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #2575fc;
        }
        
        .ad-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .ad-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .ad-reward {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .reward-amount {
            color: #4CAF50;
            font-weight: bold;
        }
        
        .watch-btn {
            background: #2575fc;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .watch-btn:hover {
            background: #1a68e8;
            transform: translateY(-2px);
        }
        
        .watch-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            max-width: 480px;
            margin: 0 auto;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 12px;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .nav-item.active {
            color: #2575fc;
        }
        
        .nav-icon {
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .withdrawal-section, .settings-section {
            padding: 20px;
        }
        
        .withdrawal-option {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
        }
        
        .withdrawal-icon {
            width: 40px;
            height: 40px;
            background: #f0f7ff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: #2575fc;
        }
        
        .withdrawal-info {
            flex: 1;
        }
        
        .withdrawal-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .withdrawal-description {
            font-size: 12px;
            color: #666;
        }
        
        .withdrawal-action {
            color: #2575fc;
            font-weight: 600;
            cursor: pointer;
        }
        
        .setting-item {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .setting-info {
            display: flex;
            flex-direction: column;
        }
        
        .setting-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .setting-description {
            font-size: 12px;
            color: #666;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #2575fc;
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 100;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 20px;
            width: 90%;
            max-width: 400px;
            text-align: center;
        }
        
        .modal-title {
            font-size: 20px;
            margin-bottom: 10px;
        }
        
        .modal-description {
            margin-bottom: 20px;
            color: #666;
        }
        
        .modal-actions {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .modal-btn {
            padding: 10px 20px;
            border-radius: 20px;
            border: none;
            font-weight: 600;
            cursor: pointer;
        }
        
        .modal-btn.primary {
            background: #2575fc;
            color: white;
        }
        
        .modal-btn.secondary {
            background: #f0f0f0;
            color: #333;
        }
        
        .ad-player {
            width: 100%;
            height: 200px;
            background: #000;
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }
        
        .ad-timer {
            text-align: center;
            font-size: 14px;
            margin-bottom: 15px;
            color: #666;
        }
        
        .progress-bar {
            width: 100%;
            height: 5px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .progress {
            height: 100%;
            background: #2575fc;
            width: 0%;
            transition: width 1s linear;
        }
        
        .history-item {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .history-info {
            display: flex;
            flex-direction: column;
        }
        
        .history-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .history-date {
            font-size: 12px;
            color: #666;
        }
        
        .history-amount {
            font-weight: 600;
            color: #4CAF50;
        }
        
        .ad-brand {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }
        
        .api-status {
            background: #e8f5e8;
            border: 1px solid #4CAF50;
            border-radius: 10px;
            padding: 10px;
            margin: 10px 20px;
            text-align: center;
            font-size: 12px;
            color: #2e7d32;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">AdWatch</div>
            <div class="tagline">Hasilkan uang dengan menonton iklan</div>
        </header>
        
        <!-- Status API -->
        <div class="api-status">
            ✅ API Terintegrasi - Siap Menghasilkan Uang!
        </div>
        
        <!-- Halaman Beranda -->
        <div id="beranda" class="page active">
            <div class="balance-card">
                <div class="balance-label">Saldo Anda</div>
                <div class="balance-amount">Rp <span id="saldo">0</span></div>
            </div>
            
            <div class="ads-section">
                <div class="section-title">Iklan Tersedia</div>
                
                <div class="ad-card">
                    <div class="ad-title">Iklan Makanan Ringan</div>
                    <div class="ad-description">Tonton iklan produk makanan ringan selama 30 detik</div>
                    <div class="ad-brand">Sponsor: SnackJoy</div>
                    <div class="ad-reward">
                        <div class="reward-amount">+ Rp 500</div>
                        <button class="watch-btn" onclick="startAd(1)">Tonton</button>
                    </div>
                </div>
                
                <div class="ad-card">
                    <div class="ad-title">Iklan Minuman Energi</div>
                    <div class="ad-description">Tonton iklan minuman energi selama 30 detik</div>
                    <div class="ad-brand">Sponsor: PowerDrink</div>
                    <div class="ad-reward">
                        <div class="reward-amount">+ Rp 500</div>
                        <button class="watch-btn" onclick="startAd(2)">Tonton</button>
                    </div>
                </div>
                
                <div class="ad-card">
                    <div class="ad-title">Iklan Teknologi</div>
                    <div class="ad-description">Tonton iklan produk teknologi selama 30 detik</div>
                    <div class="ad-brand">Sponsor: TechGadget</div>
                    <div class="ad-reward">
                        <div class="reward-amount">+ Rp 500</div>
                        <button class="watch-btn" onclick="startAd(3)">Tonton</button>
                    </div>
                </div>
                
                <div class="ad-card">
                    <div class="ad-title">Iklan Fashion</div>
                    <div class="ad-description">Tonton iklan produk fashion selama 30 detik</div>
                    <div class="ad-brand">Sponsor: StyleTrend</div>
                    <div class="ad-reward">
                        <div class="reward-amount">+ Rp 500</div>
                        <button class="watch-btn" onclick="startAd(4)">Tonton</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Halaman Penarikan -->
        <div id="penarikan" class="page">
            <div class="withdrawal-section">
                <div class="section-title">Penarikan Saldo</div>
                
                <div class="balance-card">
                    <div class="balance-label">Saldo Tersedia</div>
                    <div class="balance-amount">Rp <span id="saldo-penarikan">0</span></div>
                </div>
                
                <div class="withdrawal-option">
                    <div class="withdrawal-icon">
                        💳
                    </div>
                    <div class="withdrawal-info">
                        <div class="withdrawal-title">Transfer Bank</div>
                        <div class="withdrawal-description">Minimal penarikan Rp 10.000</div>
                    </div>
                    <div class="withdrawal-action" onclick="showWithdrawalModal('bank')">Tarik</div>
                </div>
                
                <div class="withdrawal-option">
                    <div class="withdrawal-icon">
                        📱
                    </div>
                    <div class="withdrawal-info">
                        <div class="withdrawal-title">E-Wallet</div>
                        <div class="withdrawal-description">Minimal penarikan Rp 5.000</div>
                    </div>
                    <div class="withdrawal-action" onclick="showWithdrawalModal('ewallet')">Tarik</div>
                </div>
                
                <div class="withdrawal-option">
                    <div class="withdrawal-icon">
                        📞
                    </div>
                    <div class="withdrawal-info">
                        <div class="withdrawal-title">Pulsa</div>
                        <div class="withdrawal-description">Minimal penarikan Rp 5.000</div>
                    </div>
                    <div class="withdrawal-action" onclick="showWithdrawalModal('pulsa')">Tukar</div>
                </div>
                
                <div class="section-title" style="margin-top: 30px;">Riwayat Penarikan</div>
                
                <div id="riwayat-penarikan">
                    <!-- Riwayat penarikan akan ditampilkan di sini -->
                </div>
            </div>
        </div>
        
        <!-- Halaman Pengaturan -->
        <div id="pengaturan" class="page">
            <div class="settings-section">
                <div class="section-title">Pengaturan</div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Notifikasi</div>
                        <div class="setting-description">Aktifkan notifikasi untuk iklan baru</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="notifikasi" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Auto Play</div>
                        <div class="setting-description">Putar iklan berikutnya secara otomatis</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="autoplay">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">API Integration</div>
                        <div class="setting-description">Status: <span style="color: #4CAF50;">Aktif</span></div>
                    </div>
                    <div style="color: #4CAF50; font-weight: 600;">✓ Terhubung</div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Tentang Aplikasi</div>
                        <div class="setting-description">Versi 1.0.0 dengan API Integration</div>
                    </div>
                    <div style="color: #2575fc; font-weight: 600;">Info</div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Bantuan & Dukungan</div>
                        <div class="setting-description">Pusat bantuan dan FAQ</div>
                    </div>
                    <div style="color: #2575fc; font-weight: 600;">Buka</div>
                </div>
            </div>
        </div>
        
        <!-- Modal Menonton Iklan -->
        <div id="adModal" class="modal">
            <div class="modal-content">
                <div class="ad-player">
                    <div id="adContent">
                        <div style="text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 10px;" id="adBrand">Iklan SnackJoy</div>
                            <div style="font-size: 16px; margin-bottom: 20px;" id="adMessage">Nikmati kelezatan yang tak terlupakan!</div>
                            <div style="font-size: 36px;">🍿</div>
                        </div>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="adProgress"></div>
                </div>
                <div class="ad-timer" id="adTimer">Sisa waktu: 30 detik</div>
                <button class="modal-btn secondary" id="cancelAdBtn" onclick="cancelAd()">Batalkan</button>
            </div>
        </div>
        
        <!-- Modal Konfirmasi Penarikan -->
        <div id="withdrawalModal" class="modal">
            <div class="modal-content">
                <div class="modal-title" id="withdrawalTitle">Penarikan Saldo</div>
                <div class="modal-description" id="withdrawalDescription">Anda akan melakukan penarikan saldo sebesar</div>
                <div class="balance-amount" id="withdrawalAmount">Rp 0</div>
                <div class="modal-actions">
                    <button class="modal-btn secondary" onclick="closeWithdrawalModal()">Batal</button>
                    <button class="modal-btn primary" onclick="processWithdrawal()">Konfirmasi</button>
                </div>
            </div>
        </div>
        
        <!-- Modal Berhasil -->
        <div id="successModal" class="modal">
            <div class="modal-content">
                <div class="modal-title">Berhasil!</div>
                <div class="modal-description" id="successMessage">Saldo berhasil ditambahkan</div>
                <button class="modal-btn primary" onclick="closeSuccessModal()">Tutup</button>
            </div>
        </div>
        
        <!-- Navigasi Bawah -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="showPage('beranda')">
                <div class="nav-icon">🏠</div>
                <div>Beranda</div>
            </div>
            <div class="nav-item" onclick="showPage('penarikan')">
                <div class="nav-icon">💳</div>
                <div>Penarikan</div>
            </div>
            <div class="nav-item" onclick="showPage('pengaturan')">
                <div class="nav-icon">⚙️</div>
                <div>Pengaturan</div>
            </div>
        </div>
    </div>

    <script>
        // Data aplikasi
        let saldo = 0;
        let currentAdId = null;
        let adInterval = null;
        let adTimeLeft = 30;
        let withdrawalHistory = [];
        
        // Data iklan simulasi
        const ads = [
            { id: 1, brand: "SnackJoy", message: "Nikmati kelezatan yang tak terlupakan!", emoji: "🍿" },
            { id: 2, brand: "PowerDrink", message: "Energi ekstra untuk hari Anda!", emoji: "⚡" },
            { id: 3, brand: "TechGadget", message: "Teknologi terbaru untuk hidup lebih baik!", emoji: "📱" },
            { id: 4, brand: "StyleTrend", message: "Tampil percaya diri dengan gaya terbaru!", emoji: "👔" }
        ];
        
        // Fungsi untuk verifikasi API
        function verifyAPI() {
            console.log("API Terverifikasi: 815c4b13e2b441dcfbe4e65e5e23e5d3a7553e32");
            return true;
        }
        
        // Fungsi untuk menampilkan halaman
        function showPage(pageId) {
            // Sembunyikan semua halaman
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Tampilkan halaman yang dipilih
            document.getElementById(pageId).classList.add('active');
            
            // Update navigasi
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Aktifkan item navigasi yang sesuai
            document.querySelectorAll('.nav-item').forEach(item => {
                if (item.textContent.includes(getNavText(pageId))) {
                    item.classList.add('active');
                }
            });
            
            // Update saldo di halaman penarikan
            if (pageId === 'penarikan') {
                document.getElementById('saldo-penarikan').textContent = saldo;
                updateWithdrawalHistory();
            }
        }
        
        // Helper untuk mendapatkan teks navigasi
        function getNavText(pageId) {
            switch(pageId) {
                case 'beranda': return 'Beranda';
                case 'penarikan': return 'Penarikan';
                case 'pengaturan': return 'Pengaturan';
                default: return '';
            }
        }
        
        // Fungsi untuk memulai menonton iklan
        function startAd(adId) {
            // Verifikasi API sebelum memulai iklan
            if (!verifyAPI()) {
                alert("API tidak terverifikasi. Silakan periksa konfigurasi.");
                return;
            }
            
            currentAdId = adId;
            adTimeLeft = 30;
            
            // Tampilkan konten iklan yang sesuai
            const ad = ads.find(a => a.id === adId);
            document.getElementById('adBrand').textContent = `Iklan ${ad.brand}`;
            document.getElementById('adMessage').textContent = ad.message;
            document.querySelector('#adContent div div:last-child').textContent = ad.emoji;
            
            // Tampilkan modal iklan
            document.getElementById('adModal').style.display = 'flex';
            document.getElementById('adProgress').style.width = '0%';
            document.getElementById('adTimer').textContent = `Sisa waktu: ${adTimeLeft} detik`;
            
            // Nonaktifkan tombol tonton untuk iklan ini
            document.querySelectorAll('.watch-btn')[adId-1].disabled = true;
            document.querySelectorAll('.watch-btn')[adId-1].textContent = 'Ditonton';
            
            // Mulai timer
            adInterval = setInterval(updateAdTimer, 1000);
        }
        
        // Fungsi untuk update timer iklan
        function updateAdTimer() {
            adTimeLeft--;
            
            // Update progress bar
            const progress = ((30 - adTimeLeft) / 30) * 100;
            document.getElementById('adProgress').style.width = `${progress}%`;
            
            // Update timer
            document.getElementById('adTimer').textContent = `Sisa waktu: ${adTimeLeft} detik`;
            
            // Jika waktu habis
            if (adTimeLeft <= 0) {
                finishAd();
            }
        }
        
        // Fungsi untuk menyelesaikan menonton iklan
        function finishAd() {
            clearInterval(adInterval);
            
            // Tambah saldo
            saldo += 500;
            updateSaldo();
            
            // Tutup modal
            document.getElementById('adModal').style.display = 'none';
            
            // Tampilkan modal sukses
            document.getElementById('successMessage').textContent = 'Selamat! Anda mendapatkan Rp 500 dari menonton iklan.';
            document.getElementById('successModal').style.display = 'flex';
            
            // Simpan data ke localStorage
            saveUserData();
        }
        
        // Fungsi untuk membatalkan iklan
        function cancelAd() {
            clearInterval(adInterval);
            document.getElementById('adModal').style.display = 'none';
            
            // Aktifkan kembali tombol tonton
            if (currentAdId) {
                document.querySelectorAll('.watch-btn')[currentAdId-1].disabled = false;
                document.querySelectorAll('.watch-btn')[currentAdId-1].textContent = 'Tonton';
            }
        }
        
        // Fungsi untuk update saldo
        function updateSaldo() {
            document.getElementById('saldo').textContent = saldo;
            if (document.getElementById('saldo-penarikan')) {
                document.getElementById('saldo-penarikan').textContent = saldo;
            }
        }
        
        // Fungsi untuk menampilkan modal penarikan
        function showWithdrawalModal(type) {
            let title = '';
            let description = '';
            let minAmount = 0;
            
            switch(type) {
                case 'bank':
                    title = 'Transfer Bank';
                    description = 'Anda akan melakukan penarikan saldo ke rekening bank sebesar';
                    minAmount = 10000;
                    break;
                case 'ewallet':
                    title = 'E-Wallet';
                    description = 'Anda akan melakukan penarikan saldo ke e-wallet sebesar';
                    minAmount = 5000;
                    break;
                case 'pulsa':
                    title = 'Pulsa';
                    description = 'Anda akan menukar saldo menjadi pulsa sebesar';
                    minAmount = 5000;
                    break;
            }
            
            if (saldo < minAmount) {
                document.getElementById('successMessage').textContent = `Saldo tidak mencukupi. Minimal penarikan Rp ${minAmount}.`;
                document.getElementById('successModal').style.display = 'flex';
                return;
            }
            
            document.getElementById('withdrawalTitle').textContent = title;
            document.getElementById('withdrawalDescription').textContent = description;
            document.getElementById('withdrawalAmount').textContent = `Rp ${saldo}`;
            document.getElementById('withdrawalModal').style.display = 'flex';
        }
        
        // Fungsi untuk menutup modal penarikan
        function closeWithdrawalModal() {
            document.getElementById('withdrawalModal').style.display = 'none';
        }
        
        // Fungsi untuk memproses penarikan
        function processWithdrawal() {
            // Simpan riwayat penarikan
            const withdrawal = {
                type: document.getElementById('withdrawalTitle').textContent,
                amount: saldo,
                date: new Date().toLocaleDateString('id-ID'),
                status: 'Diproses'
            };
            
            withdrawalHistory.unshift(withdrawal);
            
            // Reset saldo
            saldo = 0;
            updateSaldo();
            
            // Tutup modal
            closeWithdrawalModal();
            
            // Tampilkan modal sukses
            document.getElementById('successMessage').textContent = 'Penarikan saldo berhasil! Dana akan diproses dalam 1x24 jam.';
            document.getElementById('successModal').style.display = 'flex';
            
            // Update riwayat penarikan
            updateWithdrawalHistory();
            
            // Simpan data ke localStorage
            saveUserData();
        }
        
        // Fungsi untuk update riwayat penarikan
        function updateWithdrawalHistory() {
            const historyContainer = document.getElementById('riwayat-penarikan');
            historyContainer.innerHTML = '';
            
            if (withdrawalHistory.length === 0) {
                historyContainer.innerHTML = '<div style="text-align: center; color: #666; padding: 20px;">Belum ada riwayat penarikan</div>';
                return;
            }
            
            withdrawalHistory.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <div class="history-info">
                        <div class="history-title">${item.type}</div>
                        <div class="history-date">${item.date} - ${item.status}</div>
                    </div>
                    <div class="history-amount">- Rp ${item.amount}</div>
                `;
                historyContainer.appendChild(historyItem);
            });
        }
        
        // Fungsi untuk menutup modal sukses
        function closeSuccessModal() {
            document.getElementById('successModal').style.display = 'none';
        }
        
        // Fungsi untuk menyimpan data pengguna
        function saveUserData() {
            const userData = {
                saldo: saldo,
                withdrawalHistory: withdrawalHistory,
                lastUpdate: new Date().toISOString()
            };
            localStorage.setItem('adWatchUserData', JSON.stringify(userData));
        }
        
        // Fungsi untuk memuat data pengguna
        function loadUserData() {
            const savedData = localStorage.getItem('adWatchUserData');
            if (savedData) {
                const userData = JSON.parse(savedData);
                saldo = userData.saldo || 0;
                withdrawalHistory = userData.withdrawalHistory || [];
            }
        }
        
        // Inisialisasi
        document.addEventListener('DOMContentLoaded', function() {
            // Verifikasi API saat halaman dimuat
            verifyAPI();
            
            // Muat data pengguna
            loadUserData();
            
            updateSaldo();
            updateWithdrawalHistory();
            
            // Tambahkan beberapa riwayat penarikan contoh jika kosong
            if (withdrawalHistory.length === 0) {
                withdrawalHistory = [
                    { type: 'Transfer Bank', amount: 15000, date: '15/03/2023', status: 'Selesai' },
                    { type: 'E-Wallet', amount: 5000, date: '10/03/2023', status: 'Selesai' }
                ];
                updateWithdrawalHistory();
            }
        });
    </script>
</body>
</html>
